import {
  TouchableOpacity,
  StyleSheet,
  Text,
  View,
  ImageBackground,
} from 'react-native';
import React, {useState} from 'react';
import {SvgXml} from 'react-native-svg';
import globalStyles from '../styles/GlobalStyleSheet';
import FastImage from 'react-native-fast-image';
import Icon from 'react-native-vector-icons/FontAwesome';

/**
 * HomeScreen - the landing page or main screen of the application
 */
export default function HomeScreen({navigation}) {
  const [isPressed, setIsPressed] = useState(false);
  const [isOpen, setIsOpen] = useState(false);

  const handlePress = () => {
    setIsPressed(true);
    navigation.navigate('osaScreen');
    setIsPressed(false);
  };

  const thmSvg =
    '<svg width="585" height="195" viewBox="0 0 154.781 51.594" xmlns="http://www.w3.org/2000/svg"><path d="M25.93 35.454h-6.615v-6.35h6.614z" fill="#80ba27"/><path d="M25.93 25.93h-6.615v-6.615h6.614zM25.93 16.14h-6.615V9.79h6.614zM25.93 6.35h-6.615V0h6.614zM16.14 16.14H9.79V9.79h6.35zM16.14 6.35H9.79V0h6.35zM6.615 16.14H0V9.79h6.615z" fill="#4b5c66"/><path d="M16.14 35.454H9.79v-6.35h6.35z" fill="#80ba27"/><path d="M16.14 25.93H9.79v-6.615h6.35zM6.615 35.454H0v-6.35h6.615z" fill="#4b5c66"/><path d="M6.615 25.93H0v-6.615h6.615zM68.527 6.35v29.104h-7.144V6.35h-9.525V0h26.459v6.35zM106.098 35.454V20.637H93.662v14.817h-7.408V0h7.408v14.287h12.436V0h7.144v35.454zM147.637 35.454V15.346l-6.879 13.758h-5.291l-6.88-13.758v20.108h-7.143V0h7.143l9.525 19.844L147.637 0h7.144v35.454z" fill="#80ba27"/><path d="M154.781 51.33v-7.674h-.794v5.292l-2.116-5.292h-.794v7.673h.794v-5.292l2.116 5.292zm-5.027 0v-.795h-2.117V47.89h1.853v-.794h-1.853V44.45h2.117v-.794h-3.175v7.673zm-4.498-2.118c0-1.058-.264-1.587-1.058-2.116l-.794-.265c-.794-.264-.794-.529-.794-1.323 0-.264 0-.793.265-.793 0-.265.265-.265.53-.265.264 0 .528 0 .528.265.265.264.265.529.265.793h1.058c0-.529-.264-1.058-.529-1.587-.265-.265-.794-.265-1.323-.265-.529 0-.794 0-1.323.265-.264.529-.529 1.058-.529 1.587 0 1.323.265 1.588 1.058 2.117l1.059.265c.529.264.529.529.529 1.322 0 .53 0 .794-.265 1.059 0 .264-.264.264-.529.264-.264 0-.529 0-.529-.264-.265 0-.265-.53-.265-.794h-1.058c0 .794 0 1.058.53 1.588.264.264.793.264 1.322.264.53 0 1.058 0 1.323-.264.53-.53.53-1.059.53-1.853m-5.028 0c0-1.058-.264-1.587-1.058-2.116l-.794-.265c-.794-.264-.794-.529-.794-1.323 0-.264 0-.793.265-.793.264-.265.264-.265.53-.265.264 0 .528 0 .793.265 0 .264.264.529.264.793h.794c0-.529 0-1.058-.529-1.587-.265-.265-.794-.265-1.323-.265-.53 0-.794 0-1.058.265-.53.529-.794 1.058-.794 1.587 0 1.323.265 1.588 1.058 2.117l1.059.265c.529.264.793.529.793 1.322 0 .53 0 .794-.264 1.059-.265.264-.53.264-.794.264-.265 0-.53 0-.53-.264-.264 0-.264-.53-.264-.794h-1.058c0 .794.265 1.058.53 1.588.264.264.793.264 1.322.264.794 0 1.058 0 1.323-.264.53-.53.53-1.059.53-1.853m-4.763 2.117v-.794h-2.117V47.89h1.852v-.794h-1.852V44.45h2.117v-.794h-3.175v7.673zm-4.763 0v-7.673h-.794v3.44h-1.852v-3.44h-.793v7.673h.793v-3.44h1.852v3.44zm-4.762 0v-.794h-2.117v-6.879h-.794v7.673zm-4.498 0v-.794h-1.852V47.89h1.587v-.794h-1.587V44.45h1.852v-.794h-2.91v7.673zm-4.234-6.879v-.794h-3.44v.794h1.324v6.88h.793v-6.88zm-4.498 0v-.794h-3.704v.794h1.323v6.88h1.059v-6.88zm-4.762-.794h-1.058v7.673h1.058zm-2.646 7.673v-7.673h-.794l-1.587 4.234-1.588-4.234h-.793v7.673h.793v-5.292l1.323 3.44h.53l1.322-3.704v5.556zm-8.731 0v-.794h-2.117V47.89h1.852v-.794h-1.852V44.45h2.117v-.794h-2.91v7.673zm-4.233 0v-.794h-2.117v-6.879h-.794v7.673zm-4.498-1.587v-6.086h-1.059v6.086c0 .529-.264.793-.793.793-.53 0-.794-.264-.794-.793v-6.086h-1.059v6.086c0 .529.265.793.53 1.323.264.264.793.529 1.323.529.529 0 1.058-.265 1.322-.53.265-.529.53-.793.53-1.322m-5.292 1.587v-7.673h-.794v3.44h-1.852v-3.44h-.794v7.673h.794v-3.44h1.852v3.44zm-4.763-1.852H76.73c0 .265 0 .53-.264.794 0 .264-.265.264-.53.264-.264 0-.529 0-.529-.264-.264-.265-.529-1.059-.529-2.646 0-1.852.265-2.646.53-2.91 0-.265.264-.265.528-.265.265 0 .53 0 .53.265.264.264.264.529.264.793h1.058c0-.529-.264-1.058-.529-1.587-.529-.265-.793-.265-1.323-.265-.529 0-1.058 0-1.323.53-.529.529-.529 1.058-.529 3.439 0 2.117 0 2.646.53 3.175.264.53.793.794 1.322.794.53 0 .794-.265 1.323-.53.265-.264.53-1.058.53-1.587m-5.028-.265c0-1.058 0-1.587-1.058-2.116l-.794-.265c-.529-.264-.793-.529-.793-1.323 0-.264 0-.793.264-.793.265-.265.265-.265.53-.265.528 0 .528 0 .793.265.265.264.265.529.265.793h.793c0-.529 0-1.058-.529-1.587-.264-.265-.529-.265-1.323-.265-.264 0-.793 0-1.058.265-.53.529-.53 1.058-.53 1.587 0 1.323.265 1.588 1.06 2.117l.793.265c.53.264.794.529.794 1.322 0 .53 0 .794-.265 1.059-.265.264-.265.264-.794.264-.264 0-.529 0-.529-.264-.264 0-.264-.53-.264-.794h-1.059c0 .794.265 1.058.53 1.588.264.264.793.264 1.322.264.794 0 1.059 0 1.588-.264.264-.53.264-1.059.264-1.853m-5.027 2.117v-7.673h-.793v3.44h-1.853v-3.44h-.793v7.673h.793v-3.44h1.853v3.44zm-5.027-1.852h-.794c0 .265 0 .53-.264.794-.265.264-.265.264-.53.264-.528 0-.528 0-.793-.264-.265-.265-.265-1.059-.265-2.646 0-1.852 0-2.646.265-2.91.265-.265.265-.265.794-.265.264 0 .264 0 .529.265.264.264.264.529.264.793h.794c0-.529 0-1.058-.529-1.587-.265-.265-.53-.265-1.058-.265-.794 0-1.059 0-1.323.53-.53.529-.794 1.058-.794 3.439 0 2.117.265 2.646.794 3.175.264.53.529.794 1.323.794.529 0 .793-.265 1.058-.53.53-.264.53-1.058.53-1.587m-5.822-1.852c0 1.587 0 2.381-.264 2.646-.265.264-.53.264-.794.264-.265 0-.53 0-.53-.264-.264-.265-.264-1.059-.264-2.646 0-1.852 0-2.646.265-2.91 0-.265.264-.265.53-.265.264 0 .528 0 .793.265.264.264.264 1.058.264 2.91m.794 0c0-2.381 0-2.91-.529-3.44-.265-.529-.53-.529-1.323-.529-.53 0-1.058 0-1.323.53-.529.529-.529 1.058-.529 3.439 0 2.117 0 2.646.53 3.175.264.53.793.794 1.322.794.794 0 1.058-.265 1.323-.794.53-.53.53-1.058.53-3.175m-5.028 3.704v-7.673h-1.058v3.44h-1.588v-3.44h-1.058v7.673h1.058v-3.44h1.588v3.44zm-7.408 0v-.794h-2.117V47.89h1.852v-.794h-1.852V44.45h2.117v-.794h-3.175v7.673zm-4.763 0v-7.673h-.794v3.44h-1.852v-3.44h-.793v7.673h.793v-3.44h1.852v3.44zm-4.762-1.852H34.66c0 .265 0 .53-.264.794 0 .264-.265.264-.53.264-.264 0-.529 0-.529-.264-.264-.265-.529-1.059-.529-2.646 0-1.852.265-2.646.53-2.91 0-.265.264-.265.529-.265.264 0 .529 0 .529.265.264.264.264.529.264.793h1.059c0-.529-.265-1.058-.53-1.587-.264-.265-.793-.265-1.322-.265-.53 0-1.059 0-1.323.53-.53.529-.53 1.058-.53 3.439 0 2.117 0 2.646.53 3.175.264.53.793.794 1.323.794.529 0 .793-.265 1.323-.53.264-.264.529-1.058.529-1.587m-5.027-.265c0-1.058 0-1.587-1.059-2.116l-.793-.265c-.53-.264-.794-.529-.794-1.323 0-.264 0-.793.264-.793.265-.265.265-.265.53-.265.529 0 .529 0 .793.265.265.264.265.529.265.793h.794c0-.529 0-1.058-.53-1.587-.264-.265-.529-.265-1.322-.265-.265 0-.794 0-1.059.265-.529.529-.529 1.058-.529 1.587 0 1.323.265 1.588 1.058 2.117l.794.265c.53.264.794.529.794 1.322 0 .53 0 .794-.265 1.059-.264.264-.264.264-.793.264-.265 0-.53 0-.53-.264-.264 0-.264-.53-.264-.794h-1.059c0 .794.265 1.058.53 1.588.264.264.793.264 1.323.264.793 0 1.058 0 1.587-.264.265-.53.265-1.059.265-1.853m-5.027-5.556h-.794v7.673h.794zm-2.646 7.673v-7.673h-.794v5.292l-2.117-5.292h-.793v7.673h.793v-5.292l2.117 5.292zm-5.292 0v-7.673H16.67v3.44H15.08v-3.44h-1.058v7.673h1.058v-3.44h1.588v3.44zM12.7 49.477h-1.058v.794c-.265.264-.53.264-.794.264-.265 0-.53 0-.53-.264-.264-.265-.264-1.059-.264-2.646 0-1.852 0-2.646.265-2.91 0-.265.264-.265.529-.265.264 0 .53 0 .794.265v.793H12.7c0-.529-.265-1.058-.53-1.587-.264-.265-.793-.265-1.322-.265-.53 0-1.058 0-1.323.53-.53.529-.53 1.058-.53 3.439 0 2.117 0 2.646.53 3.175.265.53.794.794 1.323.794.53 0 1.058-.265 1.323-.53.264-.264.529-1.058.529-1.587M7.937 51.33v-.794H5.821V47.89h1.852v-.794H5.82V44.45h2.116v-.794H4.762v7.673zM3.704 44.45v-.794H0v.794h1.323v6.88H2.38v-6.88zM38.365 35.454h.793V0h-.793z" fill="#4b5c66"/></svg>';

  return (
    <ImageBackground
      source={require('../assets/Background.png')}
      style={globalStyles.mainBackground}>
      <View style={{...globalStyles.topBar, justifyContent: 'space-between'}}>
        {/* THM logo as svg to be placed here */}
        <SvgXml xml={thmSvg} height="60%" width="30%" />
        <TouchableOpacity onPress={() => navigation.openDrawer()}>
          <Icon name="bars" size={30} color="#000" />
        </TouchableOpacity>
      </View>
      <View style={styles.mainContainer}>
        <FastImage
          style={{width: 400, height: 200}}
          source={require('../assets/OSAPP.png')}
          resizeMode={FastImage.resizeMode.contain}
        />
        <TouchableOpacity
          style={[
            globalStyles.bigButton,
            isPressed && globalStyles.bigButtonPressed,
          ]}
          onPress={handlePress}>
          <Text
            style={[
              globalStyles.textBigButton,
              isPressed && globalStyles.textParagraph,
            ]}>
            Online Self Assessment beginnen!
          </Text>
        </TouchableOpacity>
      </View>
    </ImageBackground>
  );
}

const styles = StyleSheet.create({
  wrapper: {
    flex: 0,
    width: '100%',
    height: '100%',
  },
  mainContainer: {
    flex: 1,
    flexDirection: 'column',
    flexWrap: 'wrap',
    justifyContent: 'space-evenly',
    alignContent: 'center',
    alignItems: 'center',
  },
  container: {
    flex: 1,
    flexDirection: 'row',
    alignItems: 'flex-end',
    alignContent: 'flex-end',
    justifyContent: 'flex-end',
    paddingHorizontal: 16,
    paddingVertical: 8,
    borderWidth: 1,
    borderColor: 'black',
  },
  menu: {
    position: 'absolute',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    backgroundColor: 'blue',
    alignItems: 'center',
    justifyContent: 'center',
  },
});
